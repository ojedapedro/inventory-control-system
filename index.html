<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Control de Inventario</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsive.css">
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <h1>Sistema de Control de Inventario</h1>
                <div id="current-inventory-info">
                    <span id="current-store">Tienda: No seleccionada</span> | 
                    <span id="current-date">Fecha: --/--/----</span> | 
                    <span id="current-responsible">Responsable: No asignado</span>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="tabs">
            <div class="tab active" data-tab="setup">Configuración</div>
            <div class="tab" data-tab="scan">Toma Física</div>
            <div class="tab" data-tab="report">Informe</div>
            <div class="tab" data-tab="history">Historial</div>
        </div>

        <!-- Pestaña de Configuración -->
        <div id="setup" class="tab-content active">
            <div class="card">
                <h2 class="card-title">Información del Inventario</h2>
                <div class="form-group">
                    <label for="store">Tienda</label>
                    <input type="text" id="store" placeholder="Nombre de la tienda">
                </div>
                <div class="form-group">
                    <label for="date">Fecha del Inventario</label>
                    <input type="date" id="date">
                </div>
                <div class="form-group">
                    <label for="responsible">Responsable</label>
                    <input type="text" id="responsible" placeholder="Nombre del responsable">
                </div>
                <button id="save-inventory-info" class="btn-success">Guardar Información</button>
            </div>

            <div class="card">
                <h2 class="card-title">Cargar Inventario Teórico</h2>
                <div class="form-group">
                    <label for="excel-file">Seleccionar archivo Excel</label>
                    <input type="file" id="excel-file" class="file-input" accept=".xlsx, .xls">
                </div>
                <button id="load-theoretical" class="btn-success">Cargar Inventario Teórico</button>
            </div>
        </div>

        <!-- Pestaña de Toma Física -->
        <div id="scan" class="tab-content">
            <div class="card">
                <h2 class="card-title">Toma de Inventario Físico</h2>
                <div class="scan-area">
                    <p>Escanea el código de barras del producto</p>
                    <input type="text" id="barcode-input" class="scan-input" placeholder="Código de barras" autofocus>
                    <p class="scan-hint">Presiona Enter después de escanear</p>
                </div>
                
                <div class="inventory-status">
                    <div class="status-item">
                        <div class="status-number status-theoretical" id="theoretical-count">0</div>
                        <div class="status-label">Teórico</div>
                    </div>
                    <div class="status-item">
                        <div class="status-number status-physical" id="physical-count">0</div>
                        <div class="status-label">Físico</div>
                    </div>
                    <div class="status-item">
                        <div class="status-number status-discrepancies" id="discrepancies-count">0</div>
                        <div class="status-label">Discrepancias</div>
                    </div>
                </div>
                
                <button id="finish-inventory" class="btn-success">Finalizar Inventario</button>
            </div>
        </div>

        <!-- Pestaña de Informe -->
        <div id="report" class="tab-content">
            <div class="card">
                <h2 class="card-title">Informe de Incidencias</h2>
                <div id="report-summary" class="inventory-status">
                    <div class="status-item">
                        <div class="status-number status-theoretical" id="report-theoretical">0</div>
                        <div class="status-label">Teórico</div>
                    </div>
                    <div class="status-item">
                        <div class="status-number status-physical" id="report-physical">0</div>
                        <div class="status-label">Físico</div>
                    </div>
                    <div class="status-item">
                        <div class="status-number status-discrepancies" id="report-discrepancies">0</div>
                        <div class="status-label">Discrepancias</div>
                    </div>
                </div>
                
                <table id="discrepancies-table">
                    <thead>
                        <tr>
                            <th>Código</th>
                            <th>Descripción</th>
                            <th>Teórico</th>
                            <th>Físico</th>
                            <th>Diferencia</th>
                        </tr>
                    </thead>
                    <tbody id="discrepancies-body">
                        <!-- Las filas se generarán dinámicamente -->
                    </tbody>
                </table>
                
                <div style="margin-top: 20px; text-align: center;">
                    <button id="export-report" class="btn-success">Exportar Informe</button>
                </div>
            </div>
        </div>

        <!-- Pestaña de Historial -->
        <div id="history" class="tab-content">
            <div class="card">
                <h2 class="card-title">Historial de Inventarios</h2>
                <div id="history-list">
                    <!-- Los elementos de historial se generarán dinámicamente -->
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <p>Sistema de Control de Inventario Analista datos Nova &copy; 2025</p>
        </div>
    </footer>

    <script src="js/storage.js"></script>
    <script src="js/inventory.js"></script>
    <script src="js/scanner.js"></script>
    <script src="js/reports.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
